import 'package:freezed_annotation/freezed_annotation.dart';

part 'product_dto.freezed.dart';
part 'product_dto.g.dart';

@Freezed(unionKey: 'type')
sealed class ProductDto with _$ProductDto {
  @FreezedUnionValue('game')
  const factory ProductDto.game({
    @Default('game') String type,
    required String id,
    required String title,
    required String creator,
    required String shortDescription,
    required String description,
    required double rating,
    required int reviewsCount,
    required DateTime releaseDate,
    required String iconUrl,
    required bool isPaid,
    double? price,
    String? technicalInfo,
    required bool containsAds,
    required bool containsPaidContent,
    required String version,
    required String size,
    String? eventText,
    required String whatsNewText,
    required int downloadCount,
    required int ageRating,
    required bool isKidsFriendly,
    required List<String> ageRatingReasons,
    required List<String> permissions,
    required DateTime lastUpdated,
    required List<String> screenshots,
    required List<String> tags,
    required String websiteUrl,
    required String emailSupport,
    required String privacyPolicyUrl,
    required String creatorDescription,
    required String url,
    required String developerCompany,
    required String developerAddress,
    required String developerCity,
    required String developerCountry,
    required String developerPhone,
    required List<String> categories,
    String? minAndroidVersion,
    String? installsRange,
  }) = GameDto;

  @FreezedUnionValue('app')
  const factory ProductDto.app({
    @Default('app') String type,
    required String id,
    required String title,
    required String creator,
    required String shortDescription,
    required String description,
    required double rating,
    required int reviewsCount,
    required DateTime releaseDate,
    required String iconUrl,
    required bool isPaid,
    double? price,
    String? technicalInfo,
    required bool containsAds,
    required bool containsPaidContent,
    required String version,
    required String size,
    String? eventText,
    required String whatsNewText,
    required int downloadCount,
    required int ageRating,
    required bool isKidsFriendly,
    required List<String> ageRatingReasons,
    required List<String> permissions,
    required DateTime lastUpdated,
    required List<String> screenshots,
    required List<String> tags,
    required String websiteUrl,
    required String emailSupport,
    required String privacyPolicyUrl,
    required String creatorDescription,
    required String url,
    required String developerCompany,
    required String developerAddress,
    required String developerCity,
    required String developerCountry,
    required String developerPhone,
    required List<String> categories,
    String? minAndroidVersion,
    String? installsRange,
  }) = AppDto;

  @FreezedUnionValue('book')
  const factory ProductDto.book({
    @Default('book') String type,
    required String id,
    required String title,
    required String creator,
    required String shortDescription,
    required String description,
    required double rating,
    required int reviewsCount,
    required DateTime releaseDate,
    required String creatorDescription,
    required String iconUrl,
    required bool isPaid,
    double? price,
    required String publisher,
    String? isbn,
    required int pageCount,
    required String language,
    required String format,
    required DateTime publicationDate,
    required List<String> categories,
    required List<String> tags,
    required bool hasAudioVersion,
    int? audioDuration,
    String? narrator,
    required bool isSeries,
    String? seriesName,
    int? seriesNumber,
    required bool sampleAvailable,
    required bool isAbridged,
    required List<String> awards,
    required String url,
  }) = BookDto;

  factory ProductDto.fromJson(Map<String, dynamic> json) =>
      _$ProductDtoFromJson(json);
}
